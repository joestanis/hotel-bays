
YUI.add('attribute-events',function(Y){var EventTarget=Y.EventTarget,CHANGE="Change",BROADCAST="broadcast",PUBLISHED="published";function AttributeEvents(){this._ATTR_E_FACADE={};EventTarget.call(this,{emitFacade:true});}
AttributeEvents._ATTR_CFG=[BROADCAST];AttributeEvents.prototype={set:function(name,val,opts){return this._setAttr(name,val,opts);},_set:function(name,val,opts){return this._setAttr(name,val,opts,true);},setAttrs:function(attrs,opts){return this._setAttrs(attrs,opts);},_setAttrs:function(attrs,opts){for(var attr in attrs){if(attrs.hasOwnProperty(attr)){this.set(attr,attrs[attr],opts);}}
return this;},_fireAttrChange:function(attrName,subAttrName,currVal,newVal,opts){var host=this,eventName=attrName+CHANGE,state=host._state,facade,broadcast,evtCfg;if(!state.get(attrName,PUBLISHED)){evtCfg={queuable:false,defaultTargetOnly:true,defaultFn:host._defAttrChangeFn,silent:true};broadcast=state.get(attrName,BROADCAST);if(broadcast!==undefined){evtCfg.broadcast=broadcast;}
host.publish(eventName,evtCfg);state.add(attrName,PUBLISHED,true);}
facade=(opts)?Y.merge(opts):host._ATTR_E_FACADE;facade.attrName=attrName;facade.subAttrName=subAttrName;facade.prevVal=currVal;facade.newVal=newVal;host.fire(eventName,facade);},_defAttrChangeFn:function(e){if(!this._setAttrVal(e.attrName,e.subAttrName,e.prevVal,e.newVal)){e.stopImmediatePropagation();}else{e.newVal=this.get(e.attrName);}}};Y.mix(AttributeEvents,EventTarget,false,null,1);Y.AttributeEvents=AttributeEvents;},'3.6.0',{requires:['event-custom']});